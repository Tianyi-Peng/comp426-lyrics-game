(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{53:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(22),r=c.n(a),i=(c(12),c(23)),o=c(3),u=c.n(o),l=c(6),d=c(4),b=c(7),j=c.n(b),h=c(24),p=c(25),x=c(0);function O(){var e=Object(s.useState)(0),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(d.a)(a,2),i=r[0],o=r[1],b=Object(s.useState)(""),j=Object(d.a)(b,2),O=j[0],y=j[1],w=Object(s.useState)(!0),S=Object(d.a)(w,2),C=S[0],T=S[1],_=Object(s.useState)(!1),H=Object(d.a)(_,2),L=H[0],U=H[1],z=Object(s.useState)(!1),N=Object(d.a)(z,2),E=N[0],G=N[1],M=Object(s.useState)(!1),A=Object(d.a)(M,2),J=A[0],K=A[1],R=Object(s.useState)(0),B=Object(d.a)(R,2),F=B[0],V=B[1],W=Object(s.useState)(0),q=Object(d.a)(W,2),D=q[0],Q=q[1],X=Object(s.useState)(0),Y=Object(d.a)(X,2),Z=Y[0],$=Y[1],ee=Object(s.useState)("Loading..."),te=Object(d.a)(ee,2),ce=te[0],se=te[1],ne=Object(s.useState)("currentTitle"),ae=Object(d.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(s.useState)(!1),ue=Object(d.a)(oe,2),le=ue[0],de=ue[1],be=Object(s.useState)(""),je=Object(d.a)(be,2),he=je[0],pe=je[1],xe=Object(s.useState)([]),Oe=Object(d.a)(xe,2),fe=Oe[0],me=Oe[1],ve=Object(s.useState)(0),ge=Object(d.a)(ve,2),ye=ge[0],ke=ge[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,c,s,n,a,r,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=10,c=[],s=0;case 3:if(!(s<4)){e.next=18;break}n=void 0,a=0;case 6:if(!(void 0===n&&a<t)){e.next=13;break}return e.next=9,g();case 9:n=e.sent;case 10:a++,e.next=6;break;case 13:void 0===n&&(n={track_id:"15953433",track_name:"Somebody That I Used to Know",artist_name:"Gotye"}),c.push(n);case 15:s++,e.next=3;break;case 18:r=Math.floor(4*Math.random()),i=0;case 20:if(void 0!==c[r]&&c[r].has_lyrics||!(i<t)){e.next=27;break}return e.next=23,g();case 23:c[r]=e.sent;case 24:i++,e.next=20;break;case 27:return void 0!==c[r]&&c[r].has_lyrics||(c[r]={track_id:"15953433",track_name:"Somebody That I Used to Know",artist_name:"Gotye"}),e.next=30,k(c[r].track_id);case 30:o=e.sent,ke(r),ie(c[r].track_name),se(o.slice(0,o.indexOf("\n\n"))),pe(o.slice(o.indexOf("\n\n")+1)),de(!0),c=c.map((function(e){return'"'+e.track_name+'" by '+e.artist_name})),me(c);case 38:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();E||(se("Loading..."),me([]),ie(""),J&&(Q(0),$(0),K(!1)),e())}),[E]),Object(s.useEffect)(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E&&($(Z+1),D>F&&(V(D),""!=i&&P(i,O,C,F)));case 1:case"end":return e.stop()}}),e)}))),[E]),Object(x.jsx)("div",{children:Object(x.jsxs)("section",{class:"hero is-fullheight "+(C?"is-white":"is-black"),children:[Object(x.jsx)("div",{class:"hero-head",children:Object(x.jsx)("nav",{class:"navbar",children:Object(x.jsxs)("div",{class:"container",children:[Object(x.jsx)("div",{class:"navbar-brand",children:Object(x.jsx)("a",{class:"navbar-item",children:Object(x.jsx)("p",{class:"is-size-3",children:"Lyrics Trainer"})})}),Object(x.jsx)("div",{class:"navbar-menu",children:Object(x.jsxs)("div",{class:"navbar-end",children:[Object(x.jsx)("a",{class:"navbar-item",onClick:function(){!function(e,t){I.apply(this,arguments)}(i,F)},children:Object(x.jsxs)("div",{class:"content",children:[Object(x.jsx)("p",{class:"heading has-text-primary m-0",children:"High Score"}),Object(x.jsx)("p",{class:"title has-text-primary",children:F})]})}),Object(x.jsx)("a",{class:"navbar-item",onClick:function(){T(!C),""!=i&&P(i,O,!C,F)},children:Object(x.jsx)("span",{class:"icon is-medium",children:Object(x.jsx)(h.a,{icon:p.a})})}),Object(x.jsxs)("span",{class:"navbar-item",children:[""==i&&Object(x.jsx)("button",{class:"button is-outlined "+(C?"is-black":"is-white"),onClick:function(){n(1)},children:Object(x.jsx)("span",{children:"Sign Up"})}),""!=i&&Object(x.jsxs)("div",{class:"content",children:[Object(x.jsx)("p",{class:"heading has-text-primary m-0",children:"Welcome"}),Object(x.jsx)("p",{class:"title has-text-primary",children:i})]})]}),Object(x.jsxs)("span",{class:"navbar-item",children:[""==i&&Object(x.jsx)("button",{class:"button is-outlined "+(C?"is-black":"is-white"),onClick:function(){n(2)},children:Object(x.jsx)("span",{children:"Log In"})}),""!=i&&Object(x.jsx)("button",{class:"button is-outlined "+(C?"is-black":"is-white"),onClick:function(){o(""),y("")},children:Object(x.jsx)("span",{children:"Log Out"})})]})]})})]})})}),Object(x.jsx)("div",{class:"hero-body",children:Object(x.jsxs)("div",{class:"container has-text-centered",children:[Object(x.jsx)(f,{currentSong:ce,currentSongHint:he,currentTitle:re,showHint:L,hideSong:le}),Object(x.jsx)(m,{choice:fe[0],correctChoice:0===ye,next:E,setNext:G,correct:D,setCorrect:Q,setHideSong:de,setOver:K}),Object(x.jsx)(m,{choice:fe[1],correctChoice:1===ye,next:E,setNext:G,correct:D,setCorrect:Q,setHideSong:de,setOver:K}),Object(x.jsx)(m,{choice:fe[2],correctChoice:2===ye,next:E,setNext:G,correct:D,setCorrect:Q,setHideSong:de,setOver:K}),Object(x.jsx)(m,{choice:fe[3],correctChoice:3===ye,next:E,setNext:G,correct:D,setCorrect:Q,setHideSong:de,setOver:K}),Object(x.jsx)("div",{class:"columns is-centered",children:Object(x.jsx)("div",{class:"column is-one-third",children:Object(x.jsxs)("nav",{class:"level",children:[Object(x.jsx)("div",{class:"level-item",children:Object(x.jsx)("button",{class:"button is-outlined is-info",disabled:L?"disabled":"",onClick:function(){return U(!0)},children:Object(x.jsx)("span",{children:"Get Hint"})})}),Object(x.jsx)("div",{class:"level-item",children:Object(x.jsxs)("div",{class:"content",children:[Object(x.jsx)("p",{class:"heading has-text-primary m-0",children:"Correct"}),Object(x.jsxs)("p",{class:"title has-text-primary",children:[D," / ",Z]})]})}),Object(x.jsx)("div",{class:"level-item",children:Object(x.jsx)("button",{class:"button is-outlined is-info",onClick:function(){Q(0),$(0)},children:Object(x.jsx)("span",{children:"Reset"})})})]})})}),Object(x.jsx)("button",{class:"button is-outlined is-primary",style:{visibility:E?"":"hidden"},onClick:function(){U(!1),G(!1)},children:Object(x.jsx)("span",{children:J?"Try Again":"Next Song"})})]})}),c&&Object(x.jsx)(v,{loginType:c,setLoginType:n,isLight:C,setIsLight:T,highScore:F,setHighScore:V,setName:o,setPassword:y})]})})}function f(e){var t=e.currentSong,c=e.currentSongHint,s=e.currentTitle,n=e.showHint;if(e.hideSong){var a,r=new RegExp(s,"gi"),o=Object(i.a)(t.matchAll(r));try{for(o.s();!(a=o.n()).done;){var u=a.value;t=t.replaceAll(u,"...")}}catch(l){o.e(l)}finally{o.f()}}return Object(x.jsx)("div",{class:"tile is-ancestor",children:Object(x.jsx)("div",{class:"tile is-vertical",children:Object(x.jsx)("article",{class:"tile is-child",children:Object(x.jsxs)("div",{class:"content",style:{whiteSpace:"pre-wrap"},children:[t,Object(x.jsx)("br",{}),n&&c]})})})})}function m(e){var t=e.choice,c=e.correctChoice,n=e.next,a=e.setNext,r=e.correct,i=e.setCorrect,o=e.setHideSong,u=e.setOver,l=Object(s.useState)(!1),b=Object(d.a)(l,2),j=b[0],h=b[1];return Object(s.useEffect)((function(){n||h(!1)}),[n]),Object(x.jsx)("button",{class:"button is-fullwidth m-4 "+(n?c?"is-success":j?"is-danger":"is-outlined is-primary":"is-outlined is-primary"),onClick:function(){a(!0),o(!1),!n&&h(!0),c?i(r+1):u(!0)},children:Object(x.jsx)("span",{children:t})})}function v(e){var t=e.loginType,c=e.setLoginType,n=e.isLight,a=e.setIsLight,r=e.highScore,i=e.setHighScore,o=e.setName,b=e.setPassword,j=Object(s.useState)(""),h=Object(d.a)(j,2),p=h[0],O=h[1],f=Object(s.useState)(""),m=Object(d.a)(f,2),v=m[0],g=m[1],y=Object(s.useState)(""),k=Object(d.a)(y,2),w=k[0],C=k[1],_=function(){var e=Object(l.a)(u.a.mark((function e(){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=p&&""!=v){e.next=4;break}C("Fill in both fields"),e.next=28;break;case 4:if(1!==t){e.next=11;break}return e.next=7,T(p,v,n,r);case 7:e.sent?(c(0),C(""),o(p),b(v)):C("Username has already been taken"),e.next=28;break;case 11:if(2!==t){e.next=28;break}return e.next=14,H(p,v);case 14:if(!e.sent){e.next=27;break}return e.next=18,S(p);case 18:s=e.sent,c(0),C(""),o(p),b(v),a(s.brightness),i(s.highScore),e.next=28;break;case 27:C("Incorrect username or password");case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{class:"modal is-clipped is-active",children:[Object(x.jsx)("div",{class:"modal-background",onClick:function(){c(0)},children:Object(x.jsx)("button",{class:"modal-close is-large","aria-label":"close"})}),Object(x.jsx)("div",{class:"modal-content",children:Object(x.jsxs)("div",{class:"box",children:[Object(x.jsx)("div",{class:"field",children:Object(x.jsx)("p",{class:"is-size-4",children:1===t?"Sign Up":2===t?"Log In":""})}),Object(x.jsx)("div",{class:"field",children:Object(x.jsx)("input",{class:"input",type:"text",placeholder:"Username",onInput:function(e){return O(e.target.value)}})}),Object(x.jsx)("div",{class:"field",children:Object(x.jsx)("input",{class:"input",type:"text",placeholder:"Password",onInput:function(e){return g(e.target.value)}})}),""!==w&&Object(x.jsx)("span",{class:"tag is-light is-medium "+("Processing..."==w?"is-info":"is-danger"),children:w}),Object(x.jsx)("div",{class:"level-item",children:Object(x.jsx)("button",{class:"button is-info is-fullwidth",onClick:function(){C("Processing..."),_()},children:"Submit"})})]})})]})}function g(){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(6e6*Math.random()),"4c6c268c5ec5c4d7ac705f11e4c4bb45",e.next=4,j()({method:"get",url:"https://gn7ugp7bo0.execute-api.us-east-1.amazonaws.com/Prod//ws/1.1/track.get",params:{track_id:t,apikey:"4c6c268c5ec5c4d7ac705f11e4c4bb45"}});case 4:return c=e.sent,e.abrupt("return",c.data.message.body.track);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"4c6c268c5ec5c4d7ac705f11e4c4bb45",e.next=3,j()({method:"get",url:"https://gn7ugp7bo0.execute-api.us-east-1.amazonaws.com/Prod//ws/1.1/track.lyrics.get",params:{track_id:t,apikey:"4c6c268c5ec5c4d7ac705f11e4c4bb45"}});case 3:return c=e.sent,e.abrupt("return",c.data.message.body.lyrics.lyrics_body.split("...",1)[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({method:"get",url:"https://gn7ugp7bo0.execute-api.us-east-1.amazonaws.com/Prod/GetUser/".concat(t)});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,c,s){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(u.a.mark((function e(t,c,s,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({method:"post",url:"https://gn7ugp7bo0.execute-api.us-east-1.amazonaws.com/Prod/CreateUser",data:{username:t,password:c,brightness:s,highScore:n},headers:{"Content-Type":"text/plain"}});case 2:return a=e.sent,e.abrupt("return",a.data.success);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(u.a.mark((function e(t,c){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({method:"post",url:"https://gn7ugp7bo0.execute-api.us-east-1.amazonaws.com/Prod/VerifyUser",data:{username:t,password:c},headers:{"Content-Type":"text/plain"}});case 2:return s=e.sent,e.abrupt("return",s.data.success);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,c,s){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(u.a.mark((function e(t,c,s,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({method:"post",url:"https://gn7ugp7bo0.execute-api.us-east-1.amazonaws.com/Prod/UpdateUser",data:{username:t,password:c,brightness:s,highScore:n},headers:{"Content-Type":"text/plain"}});case 2:return a=e.sent,e.abrupt("return",a.data.success);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(l.a)(u.a.mark((function e(t,c){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(""==t?"Guest":t)+" has gotten "+c+" songs correct in a row in Lyrics Trainer!",e.next=3,j()({method:"post",url:"https://comp426-1fa20.cs.unc.edu/a09/tweets",data:{body:s},withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(O,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.bae1d619.chunk.js.map